import{_ as q,u as D,a as F,r as c,b as C,o as a,c as _,d as n,e as s,f as k,g as r,w as d,h as v,F as P,i as m,E as g,n as j,j as z,t as T,k as G,p as H,l as J}from"./index-7d12b6e0.js";import{u as K}from"./userAppwriteAccount-521291e1.js";const I=p=>(H("data-v-90a69229"),p=p(),J(),p),M={class:"container"},O=I(()=>n("div",{class:"top"},null,-1)),Q=I(()=>n("div",{class:"bottom"},null,-1)),W={class:"center"},X={key:0},Y={key:1},Z={style:{width:"100%"}},$={class:"my-header"},R=["id"],ee={__name:"Login",setup(p){const{createAccount:x,login:A}=K(),S=D(),L=F(),t=c(!1),i=c("2013826057@qq.com"),u=c("2013826057"),h=c(),y=c(!1),V=c(),B=async()=>{try{const e=await A(i.value,u.value);e!=null&&e.userId?(S.push({path:"/home"}),L.commit("user/updateUserId",e==null?void 0:e.userId),localStorage.setItem("userId",e==null?void 0:e.userId)):(u.value="",y.value=!0,V.value=e)}catch(e){console.log(e);return}},E=async()=>{try{const e=await x(i.value,u.value,h.value);console.log(e)}catch(e){console.log(e)}i.value="",u.value=""},w=()=>{t.value=!t.value};return(e,l)=>{const f=C("el-input"),U=C("el-icon");return a(),_(P,null,[n("div",M,[O,Q,n("div",W,[t.value?s("",!0):(a(),_("h2",X,"Please Sign In")),t.value?(a(),_("h2",Y,"Please register In")):s("",!0),t.value?(a(),k(f,{key:2,modelValue:h.value,"onUpdate:modelValue":l[0]||(l[0]=o=>h.value=o),type:"text",placeholder:"name"},null,8,["modelValue"])):s("",!0),r(f,{modelValue:i.value,"onUpdate:modelValue":l[1]||(l[1]=o=>i.value=o),type:"email",placeholder:"email"},null,8,["modelValue"]),r(f,{modelValue:u.value,"onUpdate:modelValue":l[2]||(l[2]=o=>u.value=o),type:"password",placeholder:"password"},null,8,["modelValue"]),n("div",Z,[t.value?s("",!0):(a(),k(v(g),{key:0,style:{width:"100%"},onClick:B},{default:d(()=>[m("Login")]),_:1})),t.value?(a(),k(v(g),{key:1,style:{width:"100%"},onClick:E},{default:d(()=>[m("Create Account")]),_:1})):s("",!0)]),t.value?(a(),_("div",{key:3,style:{width:"100%"},onClick:w}," Login ")):s("",!0),t.value?s("",!0):(a(),_("div",{key:4,style:{width:"100%"},onClick:w}," Create Account "))])]),r(v(G),{modelValue:y.value,"onUpdate:modelValue":l[3]||(l[3]=o=>y.value=o),"show-close":!1,"align-center":""},{header:d(({close:o,titleId:N,titleClass:b})=>[n("div",$,[n("h4",{id:N,class:j(b)},"Error",10,R),r(v(g),{type:"danger",onClick:o},{default:d(()=>[r(U,{class:"el-icon--left"},{default:d(()=>[r(v(z))]),_:1}),m(" Close ")]),_:2},1032,["onClick"])])]),default:d(()=>[m(" "+T(V.value),1)]),_:1},8,["modelValue"])],64)}}},le=q(ee,[["__scopeId","data-v-90a69229"]]);export{le as default};
