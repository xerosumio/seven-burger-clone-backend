import{x as z,r as D}from"./index-7d12b6e0.js";var P={exports:{}};(function(h,e){var t=typeof self<"u"?self:z,n=function(){function o(){this.fetch=!1,this.DOMException=t.DOMException}return o.prototype=t,new o}();(function(o){(function(s){var d={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function l(r){return r&&DataView.prototype.isPrototypeOf(r)}if(d.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],y=ArrayBuffer.isView||function(r){return r&&u.indexOf(Object.prototype.toString.call(r))>-1};function m(r){if(typeof r!="string"&&(r=String(r)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(r))throw new TypeError("Invalid character in header field name");return r.toLowerCase()}function U(r){return typeof r!="string"&&(r=String(r)),r}function R(r){var a={next:function(){var p=r.shift();return{done:p===void 0,value:p}}};return d.iterable&&(a[Symbol.iterator]=function(){return a}),a}function g(r){this.map={},r instanceof g?r.forEach(function(a,p){this.append(p,a)},this):Array.isArray(r)?r.forEach(function(a){this.append(a[0],a[1])},this):r&&Object.getOwnPropertyNames(r).forEach(function(a){this.append(a,r[a])},this)}g.prototype.append=function(r,a){r=m(r),a=U(a);var p=this.map[r];this.map[r]=p?p+", "+a:a},g.prototype.delete=function(r){delete this.map[m(r)]},g.prototype.get=function(r){return r=m(r),this.has(r)?this.map[r]:null},g.prototype.has=function(r){return this.map.hasOwnProperty(m(r))},g.prototype.set=function(r,a){this.map[m(r)]=U(a)},g.prototype.forEach=function(r,a){for(var p in this.map)this.map.hasOwnProperty(p)&&r.call(a,this.map[p],p,this)},g.prototype.keys=function(){var r=[];return this.forEach(function(a,p){r.push(p)}),R(r)},g.prototype.values=function(){var r=[];return this.forEach(function(a){r.push(a)}),R(r)},g.prototype.entries=function(){var r=[];return this.forEach(function(a,p){r.push([p,a])}),R(r)},d.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function v(r){if(r.bodyUsed)return Promise.reject(new TypeError("Already read"));r.bodyUsed=!0}function j(r){return new Promise(function(a,p){r.onload=function(){a(r.result)},r.onerror=function(){p(r.error)}})}function A(r){var a=new FileReader,p=j(a);return a.readAsArrayBuffer(r),p}function L(r){var a=new FileReader,p=j(a);return a.readAsText(r),p}function H(r){for(var a=new Uint8Array(r),p=new Array(a.length),I=0;I<a.length;I++)p[I]=String.fromCharCode(a[I]);return p.join("")}function x(r){if(r.slice)return r.slice(0);var a=new Uint8Array(r.byteLength);return a.set(new Uint8Array(r)),a.buffer}function B(){return this.bodyUsed=!1,this._initBody=function(r){this._bodyInit=r,r?typeof r=="string"?this._bodyText=r:d.blob&&Blob.prototype.isPrototypeOf(r)?this._bodyBlob=r:d.formData&&FormData.prototype.isPrototypeOf(r)?this._bodyFormData=r:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)?this._bodyText=r.toString():d.arrayBuffer&&d.blob&&l(r)?(this._bodyArrayBuffer=x(r.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(r)||y(r))?this._bodyArrayBuffer=x(r):this._bodyText=r=Object.prototype.toString.call(r):this._bodyText="",this.headers.get("content-type")||(typeof r=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(r)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var r=v(this);if(r)return r;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?v(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(A)}),this.text=function(){var r=v(this);if(r)return r;if(this._bodyBlob)return L(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(H(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}var $=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function V(r){var a=r.toUpperCase();return $.indexOf(a)>-1?a:r}function q(r,a){a=a||{};var p=a.body;if(r instanceof q){if(r.bodyUsed)throw new TypeError("Already read");this.url=r.url,this.credentials=r.credentials,a.headers||(this.headers=new g(r.headers)),this.method=r.method,this.mode=r.mode,this.signal=r.signal,!p&&r._bodyInit!=null&&(p=r._bodyInit,r.bodyUsed=!0)}else this.url=String(r);if(this.credentials=a.credentials||this.credentials||"same-origin",(a.headers||!this.headers)&&(this.headers=new g(a.headers)),this.method=V(a.method||this.method||"GET"),this.mode=a.mode||this.mode||null,this.signal=a.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&p)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(p)}q.prototype.clone=function(){return new q(this,{body:this._bodyInit})};function G(r){var a=new FormData;return r.trim().split("&").forEach(function(p){if(p){var I=p.split("="),b=I.shift().replace(/\+/g," "),w=I.join("=").replace(/\+/g," ");a.append(decodeURIComponent(b),decodeURIComponent(w))}}),a}function K(r){var a=new g,p=r.replace(/\r?\n[\t ]+/g," ");return p.split(/\r?\n/).forEach(function(I){var b=I.split(":"),w=b.shift().trim();if(w){var _=b.join(":").trim();a.append(w,_)}}),a}B.call(q.prototype);function k(r,a){a||(a={}),this.type="default",this.status=a.status===void 0?200:a.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in a?a.statusText:"OK",this.headers=new g(a.headers),this.url=a.url||"",this._initBody(r)}B.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},k.error=function(){var r=new k(null,{status:0,statusText:""});return r.type="error",r};var X=[301,302,303,307,308];k.redirect=function(r,a){if(X.indexOf(a)===-1)throw new RangeError("Invalid status code");return new k(null,{status:a,headers:{location:r}})},s.DOMException=o.DOMException;try{new s.DOMException}catch{s.DOMException=function(a,p){this.message=a,this.name=p;var I=Error(a);this.stack=I.stack},s.DOMException.prototype=Object.create(Error.prototype),s.DOMException.prototype.constructor=s.DOMException}function T(r,a){return new Promise(function(p,I){var b=new q(r,a);if(b.signal&&b.signal.aborted)return I(new s.DOMException("Aborted","AbortError"));var w=new XMLHttpRequest;function _(){w.abort()}w.onload=function(){var E={status:w.status,statusText:w.statusText,headers:K(w.getAllResponseHeaders()||"")};E.url="responseURL"in w?w.responseURL:E.headers.get("X-Request-URL");var O="response"in w?w.response:w.responseText;p(new k(O,E))},w.onerror=function(){I(new TypeError("Network request failed"))},w.ontimeout=function(){I(new TypeError("Network request failed"))},w.onabort=function(){I(new s.DOMException("Aborted","AbortError"))},w.open(b.method,b.url,!0),b.credentials==="include"?w.withCredentials=!0:b.credentials==="omit"&&(w.withCredentials=!1),"responseType"in w&&d.blob&&(w.responseType="blob"),b.headers.forEach(function(E,O){w.setRequestHeader(O,E)}),b.signal&&(b.signal.addEventListener("abort",_),w.onreadystatechange=function(){w.readyState===4&&b.signal.removeEventListener("abort",_)}),w.send(typeof b._bodyInit>"u"?null:b._bodyInit)})}return T.polyfill=!0,o.fetch||(o.fetch=T,o.Headers=g,o.Request=q,o.Response=k),s.Headers=g,s.Request=q,s.Response=k,s.fetch=T,Object.defineProperty(s,"__esModule",{value:!0}),s})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,h.exports=e})(P,P.exports);var J=P.exports;function f(h,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function d(y){try{u(n.next(y))}catch(m){s(m)}}function l(y){try{u(n.throw(y))}catch(m){s(m)}}function u(y){y.done?o(y.value):i(y.value).then(d,l)}u((n=n.apply(h,e||[])).next())})}class M{constructor(e){this.client=e}static flatten(e,t=""){let n={};for(const i in e){let o=e[i],s=t?`${t}[${i}]`:i;Array.isArray(o)?n=Object.assign(n,this.flatten(o,s)):n[s]=o}return n}}M.CHUNK_SIZE=5*1024*1024;class c extends Error{constructor(e,t=0,n="",i=""){super(e),this.name="AppwriteException",this.message=e,this.code=t,this.type=n,this.response=i}}class W{constructor(){this.config={endpoint:"https://HOSTNAME/v1",endpointRealtime:"",project:"",jwt:"",locale:""},this.headers={"x-sdk-name":"Web","x-sdk-platform":"client","x-sdk-language":"web","x-sdk-version":"11.0.0","X-Appwrite-Response-Format":"1.0.0"},this.realtime={socket:void 0,timeout:void 0,url:"",channels:new Set,subscriptions:new Map,subscriptionsCounter:0,reconnect:!0,reconnectAttempts:0,lastMessage:void 0,connect:()=>{clearTimeout(this.realtime.timeout),this.realtime.timeout=window==null?void 0:window.setTimeout(()=>{this.realtime.createSocket()},50)},getTimeout:()=>{switch(!0){case this.realtime.reconnectAttempts<5:return 1e3;case this.realtime.reconnectAttempts<15:return 5e3;case this.realtime.reconnectAttempts<100:return 1e4;default:return 6e4}},createSocket:()=>{var e,t;if(this.realtime.channels.size<1)return;const n=new URLSearchParams;n.set("project",this.config.project),this.realtime.channels.forEach(o=>{n.append("channels[]",o)});const i=this.config.endpointRealtime+"/realtime?"+n.toString();(i!==this.realtime.url||!this.realtime.socket||((e=this.realtime.socket)===null||e===void 0?void 0:e.readyState)>WebSocket.OPEN)&&(this.realtime.socket&&((t=this.realtime.socket)===null||t===void 0?void 0:t.readyState)<WebSocket.CLOSING&&(this.realtime.reconnect=!1,this.realtime.socket.close()),this.realtime.url=i,this.realtime.socket=new WebSocket(i),this.realtime.socket.addEventListener("message",this.realtime.onMessage),this.realtime.socket.addEventListener("open",o=>{this.realtime.reconnectAttempts=0}),this.realtime.socket.addEventListener("close",o=>{var s,d,l;if(!this.realtime.reconnect||((d=(s=this.realtime)===null||s===void 0?void 0:s.lastMessage)===null||d===void 0?void 0:d.type)==="error"&&((l=this.realtime)===null||l===void 0?void 0:l.lastMessage.data).code===1008){this.realtime.reconnect=!0;return}const u=this.realtime.getTimeout();console.error(`Realtime got disconnected. Reconnect will be attempted in ${u/1e3} seconds.`,o.reason),setTimeout(()=>{this.realtime.reconnectAttempts++,this.realtime.createSocket()},u)}))},onMessage:e=>{var t,n;try{const i=JSON.parse(e.data);switch(this.realtime.lastMessage=i,i.type){case"connected":const o=JSON.parse((t=window.localStorage.getItem("cookieFallback"))!==null&&t!==void 0?t:"{}"),s=o==null?void 0:o[`a_session_${this.config.project}`],d=i.data;s&&!d.user&&((n=this.realtime.socket)===null||n===void 0||n.send(JSON.stringify({type:"authentication",data:{session:s}})));break;case"event":let l=i.data;if(l!=null&&l.channels){if(!l.channels.some(y=>this.realtime.channels.has(y)))return;this.realtime.subscriptions.forEach(y=>{l.channels.some(m=>y.channels.includes(m))&&setTimeout(()=>y.callback(l))})}break;case"error":throw i.data;default:break}}catch(i){console.error(i)}},cleanUp:e=>{this.realtime.channels.forEach(t=>{e.includes(t)&&(Array.from(this.realtime.subscriptions).some(([i,o])=>o.channels.includes(t))||this.realtime.channels.delete(t))})}}}setEndpoint(e){return this.config.endpoint=e,this.config.endpointRealtime=this.config.endpointRealtime||this.config.endpoint.replace("https://","wss://").replace("http://","ws://"),this}setEndpointRealtime(e){return this.config.endpointRealtime=e,this}setProject(e){return this.headers["X-Appwrite-Project"]=e,this.config.project=e,this}setJWT(e){return this.headers["X-Appwrite-JWT"]=e,this.config.jwt=e,this}setLocale(e){return this.headers["X-Appwrite-Locale"]=e,this.config.locale=e,this}subscribe(e,t){let n=typeof e=="string"?[e]:e;n.forEach(o=>this.realtime.channels.add(o));const i=this.realtime.subscriptionsCounter++;return this.realtime.subscriptions.set(i,{channels:n,callback:t}),this.realtime.connect(),()=>{this.realtime.subscriptions.delete(i),this.realtime.cleanUp(n),this.realtime.connect()}}call(e,t,n={},i={}){var o,s;return f(this,void 0,void 0,function*(){e=e.toUpperCase(),n=Object.assign({},this.headers,n);let d={method:e,headers:n,credentials:"include"};if(typeof window<"u"&&window.localStorage&&(n["X-Fallback-Cookies"]=(o=window.localStorage.getItem("cookieFallback"))!==null&&o!==void 0?o:""),e==="GET")for(const[l,u]of Object.entries(M.flatten(i)))t.searchParams.append(l,u);else switch(n["content-type"]){case"application/json":d.body=JSON.stringify(i);break;case"multipart/form-data":let l=new FormData;for(const u in i)Array.isArray(i[u])?i[u].forEach(y=>{l.append(u+"[]",y)}):l.append(u,i[u]);d.body=l,delete n["content-type"];break}try{let l=null;const u=yield J.fetch(t.toString(),d);if(!((s=u.headers.get("content-type"))===null||s===void 0)&&s.includes("application/json")?l=yield u.json():l={message:yield u.text()},400<=u.status)throw new c(l==null?void 0:l.message,u.status,l==null?void 0:l.type,l);const y=u.headers.get("X-Fallback-Cookies");return typeof window<"u"&&window.localStorage&&y&&(window.console.warn("Appwrite is using localStorage for session management. Increase your security by adding a custom domain as your API endpoint."),window.localStorage.setItem("cookieFallback",y)),l}catch(l){throw l instanceof c?l:new c(l.message)}})}}class Z extends M{constructor(e){super(e)}get(){return f(this,void 0,void 0,function*(){let e="/account",t={};const n=new URL(this.client.config.endpoint+e);return yield this.client.call("get",n,{"content-type":"application/json"},t)})}create(e,t,n,i){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "userId"');if(typeof t>"u")throw new c('Missing required parameter: "email"');if(typeof n>"u")throw new c('Missing required parameter: "password"');let o="/account",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.email=t),typeof n<"u"&&(s.password=n),typeof i<"u"&&(s.name=i);const d=new URL(this.client.config.endpoint+o);return yield this.client.call("post",d,{"content-type":"application/json"},s)})}updateEmail(e,t){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "email"');if(typeof t>"u")throw new c('Missing required parameter: "password"');let n="/account/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("patch",o,{"content-type":"application/json"},i)})}createJWT(){return f(this,void 0,void 0,function*(){let e="/account/jwt",t={};const n=new URL(this.client.config.endpoint+e);return yield this.client.call("post",n,{"content-type":"application/json"},t)})}listLogs(e){return f(this,void 0,void 0,function*(){let t="/account/logs",n={};typeof e<"u"&&(n.queries=e);const i=new URL(this.client.config.endpoint+t);return yield this.client.call("get",i,{"content-type":"application/json"},n)})}updateName(e){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "name"');let t="/account/name",n={};typeof e<"u"&&(n.name=e);const i=new URL(this.client.config.endpoint+t);return yield this.client.call("patch",i,{"content-type":"application/json"},n)})}updatePassword(e,t){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "password"');let n="/account/password",i={};typeof e<"u"&&(i.password=e),typeof t<"u"&&(i.oldPassword=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("patch",o,{"content-type":"application/json"},i)})}updatePhone(e,t){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "phone"');if(typeof t>"u")throw new c('Missing required parameter: "password"');let n="/account/phone",i={};typeof e<"u"&&(i.phone=e),typeof t<"u"&&(i.password=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("patch",o,{"content-type":"application/json"},i)})}getPrefs(){return f(this,void 0,void 0,function*(){let e="/account/prefs",t={};const n=new URL(this.client.config.endpoint+e);return yield this.client.call("get",n,{"content-type":"application/json"},t)})}updatePrefs(e){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "prefs"');let t="/account/prefs",n={};typeof e<"u"&&(n.prefs=e);const i=new URL(this.client.config.endpoint+t);return yield this.client.call("patch",i,{"content-type":"application/json"},n)})}createRecovery(e,t){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "email"');if(typeof t>"u")throw new c('Missing required parameter: "url"');let n="/account/recovery",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.url=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("post",o,{"content-type":"application/json"},i)})}updateRecovery(e,t,n,i){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "userId"');if(typeof t>"u")throw new c('Missing required parameter: "secret"');if(typeof n>"u")throw new c('Missing required parameter: "password"');if(typeof i>"u")throw new c('Missing required parameter: "passwordAgain"');let o="/account/recovery",s={};typeof e<"u"&&(s.userId=e),typeof t<"u"&&(s.secret=t),typeof n<"u"&&(s.password=n),typeof i<"u"&&(s.passwordAgain=i);const d=new URL(this.client.config.endpoint+o);return yield this.client.call("put",d,{"content-type":"application/json"},s)})}listSessions(){return f(this,void 0,void 0,function*(){let e="/account/sessions",t={};const n=new URL(this.client.config.endpoint+e);return yield this.client.call("get",n,{"content-type":"application/json"},t)})}deleteSessions(){return f(this,void 0,void 0,function*(){let e="/account/sessions",t={};const n=new URL(this.client.config.endpoint+e);return yield this.client.call("delete",n,{"content-type":"application/json"},t)})}createAnonymousSession(){return f(this,void 0,void 0,function*(){let e="/account/sessions/anonymous",t={};const n=new URL(this.client.config.endpoint+e);return yield this.client.call("post",n,{"content-type":"application/json"},t)})}createEmailSession(e,t){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "email"');if(typeof t>"u")throw new c('Missing required parameter: "password"');let n="/account/sessions/email",i={};typeof e<"u"&&(i.email=e),typeof t<"u"&&(i.password=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("post",o,{"content-type":"application/json"},i)})}createMagicURLSession(e,t,n){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "userId"');if(typeof t>"u")throw new c('Missing required parameter: "email"');let i="/account/sessions/magic-url",o={};typeof e<"u"&&(o.userId=e),typeof t<"u"&&(o.email=t),typeof n<"u"&&(o.url=n);const s=new URL(this.client.config.endpoint+i);return yield this.client.call("post",s,{"content-type":"application/json"},o)})}updateMagicURLSession(e,t){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "userId"');if(typeof t>"u")throw new c('Missing required parameter: "secret"');let n="/account/sessions/magic-url",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("put",o,{"content-type":"application/json"},i)})}createOAuth2Session(e,t,n,i){if(typeof e>"u")throw new c('Missing required parameter: "provider"');let o="/account/sessions/oauth2/{provider}".replace("{provider}",e),s={};typeof t<"u"&&(s.success=t),typeof n<"u"&&(s.failure=n),typeof i<"u"&&(s.scopes=i);const d=new URL(this.client.config.endpoint+o);s.project=this.client.config.project;for(const[l,u]of Object.entries(M.flatten(s)))d.searchParams.append(l,u);if(typeof window<"u"&&(window!=null&&window.location))window.location.href=d.toString();else return d}createPhoneSession(e,t){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "userId"');if(typeof t>"u")throw new c('Missing required parameter: "phone"');let n="/account/sessions/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.phone=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("post",o,{"content-type":"application/json"},i)})}updatePhoneSession(e,t){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "userId"');if(typeof t>"u")throw new c('Missing required parameter: "secret"');let n="/account/sessions/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("put",o,{"content-type":"application/json"},i)})}getSession(e){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "sessionId"');let t="/account/sessions/{sessionId}".replace("{sessionId}",e),n={};const i=new URL(this.client.config.endpoint+t);return yield this.client.call("get",i,{"content-type":"application/json"},n)})}updateSession(e){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "sessionId"');let t="/account/sessions/{sessionId}".replace("{sessionId}",e),n={};const i=new URL(this.client.config.endpoint+t);return yield this.client.call("patch",i,{"content-type":"application/json"},n)})}deleteSession(e){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "sessionId"');let t="/account/sessions/{sessionId}".replace("{sessionId}",e),n={};const i=new URL(this.client.config.endpoint+t);return yield this.client.call("delete",i,{"content-type":"application/json"},n)})}updateStatus(){return f(this,void 0,void 0,function*(){let e="/account/status",t={};const n=new URL(this.client.config.endpoint+e);return yield this.client.call("patch",n,{"content-type":"application/json"},t)})}createVerification(e){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "url"');let t="/account/verification",n={};typeof e<"u"&&(n.url=e);const i=new URL(this.client.config.endpoint+t);return yield this.client.call("post",i,{"content-type":"application/json"},n)})}updateVerification(e,t){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "userId"');if(typeof t>"u")throw new c('Missing required parameter: "secret"');let n="/account/verification",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("put",o,{"content-type":"application/json"},i)})}createPhoneVerification(){return f(this,void 0,void 0,function*(){let e="/account/verification/phone",t={};const n=new URL(this.client.config.endpoint+e);return yield this.client.call("post",n,{"content-type":"application/json"},t)})}updatePhoneVerification(e,t){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "userId"');if(typeof t>"u")throw new c('Missing required parameter: "secret"');let n="/account/verification/phone",i={};typeof e<"u"&&(i.userId=e),typeof t<"u"&&(i.secret=t);const o=new URL(this.client.config.endpoint+n);return yield this.client.call("put",o,{"content-type":"application/json"},i)})}}class Q extends M{constructor(e){super(e)}listDocuments(e,t,n){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "databaseId"');if(typeof t>"u")throw new c('Missing required parameter: "collectionId"');let i="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),o={};typeof n<"u"&&(o.queries=n);const s=new URL(this.client.config.endpoint+i);return yield this.client.call("get",s,{"content-type":"application/json"},o)})}createDocument(e,t,n,i,o){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "databaseId"');if(typeof t>"u")throw new c('Missing required parameter: "collectionId"');if(typeof n>"u")throw new c('Missing required parameter: "documentId"');if(typeof i>"u")throw new c('Missing required parameter: "data"');let s="/databases/{databaseId}/collections/{collectionId}/documents".replace("{databaseId}",e).replace("{collectionId}",t),d={};typeof n<"u"&&(d.documentId=n),typeof i<"u"&&(d.data=i),typeof o<"u"&&(d.permissions=o);const l=new URL(this.client.config.endpoint+s);return yield this.client.call("post",l,{"content-type":"application/json"},d)})}getDocument(e,t,n,i){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "databaseId"');if(typeof t>"u")throw new c('Missing required parameter: "collectionId"');if(typeof n>"u")throw new c('Missing required parameter: "documentId"');let o="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",n),s={};typeof i<"u"&&(s.queries=i);const d=new URL(this.client.config.endpoint+o);return yield this.client.call("get",d,{"content-type":"application/json"},s)})}updateDocument(e,t,n,i,o){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "databaseId"');if(typeof t>"u")throw new c('Missing required parameter: "collectionId"');if(typeof n>"u")throw new c('Missing required parameter: "documentId"');let s="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",n),d={};typeof i<"u"&&(d.data=i),typeof o<"u"&&(d.permissions=o);const l=new URL(this.client.config.endpoint+s);return yield this.client.call("patch",l,{"content-type":"application/json"},d)})}deleteDocument(e,t,n){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "databaseId"');if(typeof t>"u")throw new c('Missing required parameter: "collectionId"');if(typeof n>"u")throw new c('Missing required parameter: "documentId"');let i="/databases/{databaseId}/collections/{collectionId}/documents/{documentId}".replace("{databaseId}",e).replace("{collectionId}",t).replace("{documentId}",n),o={};const s=new URL(this.client.config.endpoint+i);return yield this.client.call("delete",s,{"content-type":"application/json"},o)})}}class Y extends M{constructor(e){super(e)}listFiles(e,t,n){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "bucketId"');let i="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),o={};typeof t<"u"&&(o.queries=t),typeof n<"u"&&(o.search=n);const s=new URL(this.client.config.endpoint+i);return yield this.client.call("get",s,{"content-type":"application/json"},o)})}createFile(e,t,n,i,o=s=>{}){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "bucketId"');if(typeof t>"u")throw new c('Missing required parameter: "fileId"');if(typeof n>"u")throw new c('Missing required parameter: "file"');let s="/storage/buckets/{bucketId}/files".replace("{bucketId}",e),d={};typeof t<"u"&&(d.fileId=t),typeof n<"u"&&(d.file=n),typeof i<"u"&&(d.permissions=i);const l=new URL(this.client.config.endpoint+s);if(!(n instanceof File))throw new c('Parameter "file" has to be a File.');const u=n.size;if(u<=M.CHUNK_SIZE)return yield this.client.call("post",l,{"content-type":"multipart/form-data"},d);let y,m;const U={"content-type":"multipart/form-data"};let R=0;const g=Math.ceil(u/M.CHUNK_SIZE);if(t!="unique()")try{m=yield this.client.call("GET",new URL(this.client.config.endpoint+s+"/"+t),U),R=m.chunksUploaded}catch{}for(R;R<g;R++){const v=R*M.CHUNK_SIZE,j=Math.min(R*M.CHUNK_SIZE+M.CHUNK_SIZE-1,u);U["content-range"]="bytes "+v+"-"+j+"/"+u,y&&(U["x-appwrite-id"]=y);const A=n.slice(v,j+1);d.file=new File([A],n.name),m=yield this.client.call("post",l,U,d),y||(y=m.$id),o&&o({$id:m.$id,progress:Math.min((R+1)*M.CHUNK_SIZE-1,u)/u*100,sizeUploaded:j,chunksTotal:m.chunksTotal,chunksUploaded:m.chunksUploaded})}return m})}getFile(e,t){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "bucketId"');if(typeof t>"u")throw new c('Missing required parameter: "fileId"');let n="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={};const o=new URL(this.client.config.endpoint+n);return yield this.client.call("get",o,{"content-type":"application/json"},i)})}updateFile(e,t,n){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "bucketId"');if(typeof t>"u")throw new c('Missing required parameter: "fileId"');let i="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),o={};typeof n<"u"&&(o.permissions=n);const s=new URL(this.client.config.endpoint+i);return yield this.client.call("put",s,{"content-type":"application/json"},o)})}deleteFile(e,t){return f(this,void 0,void 0,function*(){if(typeof e>"u")throw new c('Missing required parameter: "bucketId"');if(typeof t>"u")throw new c('Missing required parameter: "fileId"');let n="/storage/buckets/{bucketId}/files/{fileId}".replace("{bucketId}",e).replace("{fileId}",t),i={};const o=new URL(this.client.config.endpoint+n);return yield this.client.call("delete",o,{"content-type":"application/json"},i)})}getFileDownload(e,t){if(typeof e>"u")throw new c('Missing required parameter: "bucketId"');if(typeof t>"u")throw new c('Missing required parameter: "fileId"');let n="/storage/buckets/{bucketId}/files/{fileId}/download".replace("{bucketId}",e).replace("{fileId}",t),i={};const o=new URL(this.client.config.endpoint+n);i.project=this.client.config.project;for(const[s,d]of Object.entries(M.flatten(i)))o.searchParams.append(s,d);return o}getFilePreview(e,t,n,i,o,s,d,l,u,y,m,U,R){if(typeof e>"u")throw new c('Missing required parameter: "bucketId"');if(typeof t>"u")throw new c('Missing required parameter: "fileId"');let g="/storage/buckets/{bucketId}/files/{fileId}/preview".replace("{bucketId}",e).replace("{fileId}",t),v={};typeof n<"u"&&(v.width=n),typeof i<"u"&&(v.height=i),typeof o<"u"&&(v.gravity=o),typeof s<"u"&&(v.quality=s),typeof d<"u"&&(v.borderWidth=d),typeof l<"u"&&(v.borderColor=l),typeof u<"u"&&(v.borderRadius=u),typeof y<"u"&&(v.opacity=y),typeof m<"u"&&(v.rotation=m),typeof U<"u"&&(v.background=U),typeof R<"u"&&(v.output=R);const j=new URL(this.client.config.endpoint+g);v.project=this.client.config.project;for(const[A,L]of Object.entries(M.flatten(v)))j.searchParams.append(A,L);return j}getFileView(e,t){if(typeof e>"u")throw new c('Missing required parameter: "bucketId"');if(typeof t>"u")throw new c('Missing required parameter: "fileId"');let n="/storage/buckets/{bucketId}/files/{fileId}/view".replace("{bucketId}",e).replace("{fileId}",t),i={};const o=new URL(this.client.config.endpoint+n);i.project=this.client.config.project;for(const[s,d]of Object.entries(M.flatten(i)))o.searchParams.append(s,d);return o}}class S{}S.read=h=>`read("${h}")`;S.write=h=>`write("${h}")`;S.create=h=>`create("${h}")`;S.update=h=>`update("${h}")`;S.delete=h=>`delete("${h}")`;class ie{static any(){return"any"}static user(e,t=""){return t===""?`user:${e}`:`user:${e}/${t}`}static users(e=""){return e===""?"users":`users/${e}`}static guests(){return"guests"}static team(e,t=""){return t===""?`team:${e}`:`team:${e}/${t}`}static member(e){return`member:${e}`}}class ee{static custom(e){return e}static unique(){return"unique()"}}const F=D(),C=D(),N=D(),te=()=>{const h=new W().setEndpoint("https://base.horsy.me/v1").setProject("64c4de03897a99081836");return F.value=new Z(h),C.value=new Q(h),N.value=new Y(h),{account:F.value,database:C.value,storage:N.value,ID:ee,CONFIG:{DATABASE_ID:"64c6451e3ad023b072fb",COLLECTION_ID:"64c6452e4a2609df09cb"}}},re=()=>{const{account:h,ID:e}=te();return{createAccount:async(s,d,l)=>{try{return await h.create(e.unique(),s,d,l)}catch(u){return u}},getCurrentUser:async()=>h.value.get(),login:async(s,d)=>{try{return await h.createEmailSession(s,d)}catch(l){return l}},logout:async()=>{try{return await h.deleteSessions("current")}catch(s){return s}}}};export{S as P,ie as R,te as a,re as u};
